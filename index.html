<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Pro Sender - Desbloquea el Poder del Marketing Masivo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #25D366;
            --secondary-color: #128C7E;
            --accent-color: #075E54;
            --text-dark: #333;
            --text-light: #666;
            --bg-light: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
        }

        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 80px 0;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="1" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="1" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            color: white;
        }

        .testimonial-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            border-left: 5px solid var(--primary-color);
        }

        .pricing-card {
            background: white;
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .pricing-card:hover {
            transform: translateY(-10px);
        }

        .pricing-card.featured {
            border: 3px solid var(--primary-color);
            transform: scale(1.05);
        }

        .pricing-card.featured::before {
            content: 'üî• M√ÅS POPULAR';
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--primary-color);
            color: white;
            padding: 5px 40px;
            font-size: 12px;
            font-weight: bold;
            transform: rotate(45deg);
        }

        .btn-whatsapp {
            background: var(--primary-color);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: bold;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .btn-whatsapp:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
        }

        .stats-section {
            background: var(--accent-color);
            color: white;
            padding: 60px 0;
        }

        .stat-item {
            text-align: center;
            margin-bottom: 30px;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            display: block;
        }

        .floating-whatsapp {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            text-decoration: none;
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
            z-index: 1000;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .modal-content {
            border-radius: 20px;
            border: none;
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 20px 20px 0 0;
            border: none;
        }

        .form-control {
            border-radius: 10px;
            border: 2px solid #e9ecef;
            padding: 12px 15px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(37, 211, 102, 0.25);
        }

        .payment-option {
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }

        .payment-option:hover {
            border-color: var(--primary-color);
            background: rgba(37, 211, 102, 0.05);
        }

        .payment-option.selected {
            border-color: var(--primary-color);
            background: rgba(37, 211, 102, 0.1);
        }

        .payment-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-weight: bold;
            position: relative;
        }

        .step.active {
            background: var(--primary-color);
            color: white;
        }

        .step.completed {
            background: var(--secondary-color);
            color: white;
        }

        .step::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: 20px;
            height: 2px;
            background: #e9ecef;
            transform: translateY(-50%);
        }

        .step:last-child::after {
            display: none;
        }

        .step.completed::after {
            background: var(--secondary-color);
        }

        .android-notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            display: none;
        }

        .android-notice.show {
            display: block;
        }

        @media (max-width: 768px) {
            .hero-section {
                padding: 60px 0;
            }
            
            .pricing-card.featured {
                transform: none;
                margin-top: 20px;
            }
            
            .stat-number {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center hero-content">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold mb-4">
                        üöÄ WhatsApp Pro Sender
                        <span class="d-block text-warning">¬°Revoluciona tu Marketing!</span>
                    </h1>
                    <p class="lead mb-4">
                        La herramienta m√°s poderosa para enviar mensajes masivos personalizados por WhatsApp. 
                        Aumenta tus ventas hasta un 300% con nuestra tecnolog√≠a avanzada.
                    </p>
                    <div class="d-flex flex-wrap gap-3">
                        <button class="btn btn-warning btn-lg px-4 py-3" data-bs-toggle="modal" data-bs-target="#checkoutModal">
                            <i class="fas fa-rocket me-2"></i>
                            ¬°Quiero Acceso Completo!
                        </button>
                        <a href="#features" class="btn btn-outline-light btn-lg px-4 py-3">
                            <i class="fas fa-play me-2"></i>
                            Ver Demo
                        </a>
                    </div>
                </div>
                <div class="col-lg-6 text-center">
                    <img src="https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" 
                         alt="WhatsApp Marketing" class="img-fluid rounded-3 shadow-lg">
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <span class="stat-number">50K+</span>
                        <span>Mensajes Enviados</span>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <span class="stat-number">1,200+</span>
                        <span>Clientes Satisfechos</span>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <span class="stat-number">98%</span>
                        <span>Tasa de Entrega</span>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <span class="stat-number">24/7</span>
                        <span>Soporte T√©cnico</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center mb-5">
                    <h2 class="display-5 fw-bold">¬øPor qu√© elegir WhatsApp Pro Sender?</h2>
                    <p class="lead text-muted">Caracter√≠sticas que marcan la diferencia</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="text-center">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h4>Env√≠o Ultrarr√°pido</h4>
                        <p class="text-muted">Env√≠a hasta 1000 mensajes por minuto con nuestra tecnolog√≠a optimizada.</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="text-center">
                        <div class="feature-icon">
                            <i class="fas fa-user-friends"></i>
                        </div>
                        <h4>Personalizaci√≥n Total</h4>
                        <p class="text-muted">Cada mensaje se personaliza autom√°ticamente con el nombre del destinatario.</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="text-center">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4>100% Seguro</h4>
                        <p class="text-muted">Protecci√≥n anti-ban y cumplimiento total con las pol√≠ticas de WhatsApp.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center mb-5">
                    <h2 class="display-5 fw-bold">Lo que dicen nuestros clientes</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="testimonial-card">
                        <div class="mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p>"Incre√≠ble herramienta. En mi veterinaria enviamos recordatorios de vacunas a 300 clientes en 20 minutos. Antes nos tomaba todo el d√≠a."</p>
                        <div class="d-flex align-items-center">
                            <img src="https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-4.0.3&w=50&h=50&fit=crop&crop=face" 
                                 alt="Cliente" class="rounded-circle me-3" width="50" height="50">
                            <div>
                                <strong>Dr. Mar√≠a Gonz√°lez</strong>
                                <small class="text-muted d-block">Veterinaria San Borja</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="testimonial-card">
                        <div class="mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p>"Mis ventas aumentaron 250% en el primer mes. La personalizaci√≥n autom√°tica hace que cada cliente se sienta especial."</p>
                        <div class="d-flex align-items-center">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&w=50&h=50&fit=crop&crop=face" 
                                 alt="Cliente" class="rounded-circle me-3" width="50" height="50">
                            <div>
                                <strong>Carlos Mendoza</strong>
                                <small class="text-muted d-block">Tienda de Ropa Online</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="testimonial-card">
                        <div class="mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p>"El soporte t√©cnico es excepcional. Cualquier duda se resuelve en minutos. Totalmente recomendado."</p>
                        <div class="d-flex align-items-center">
                            <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&w=50&h=50&fit=crop&crop=face" 
                                 alt="Cliente" class="rounded-circle me-3" width="50" height="50">
                            <div>
                                <strong>Ana Rodr√≠guez</strong>
                                <small class="text-muted d-block">Consultora de Marketing</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center mb-5">
                    <h2 class="display-5 fw-bold">üî• Ya Probaste... Ahora desbloquea todo el poder</h2>
                    <p class="lead">Activa tu licencia vitalicia en 1 solo paso. Sin suscripciones, sin cargos ocultos, sin esperas.</p>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="pricing-card featured">
                        <div class="text-center mb-4">
                            <div class="feature-icon mx-auto">
                                <i class="fas fa-crown"></i>
                            </div>
                            <h3 class="fw-bold text-success">ACCESO COMPLETO - PAGA SOLO UNA VEZ</h3>
                            <p class="text-muted">Act√≠valo hoy por solo <span class="fw-bold">$25 USD</span> sin pagos mensuales</p>
                        </div>
                        
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <span>Mensajes ilimitados para siempre</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <span>Todas las funciones desbloqueadas</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <span>Soporte t√©cnico prioritario (en espa√±ol)</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <span>Actualizaciones gratis</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <span>Garant√≠a 60 d√≠as</span>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <button class="btn btn-success btn-lg w-100 py-3 fw-bold" data-bs-toggle="modal" data-bs-target="#checkoutModal">
                                <i class="fas fa-unlock me-2"></i>
                                QUIERO ACCESO COMPLETO PARA SIEMPRE
                            </button>
                            <div class="mt-3">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/a/a4/Paypal_2014_logo.png" alt="PayPal" height="20" class="me-2">
                                <i class="fas fa-university me-2"></i>
                                <span class="small text-muted">Transferencia</span>
                                <i class="fas fa-mobile-alt ms-2 me-2"></i>
                                <span class="small text-muted">Yape/Plin</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Checkout Modal -->
    <div class="modal fade" id="checkoutModal" tabindex="-1" aria-labelledby="checkoutModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="checkoutModalLabel">
                        <i class="fas fa-unlock me-2"></i>
                        Desbloquear Versi√≥n Completa - $25 USD
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Step Indicator -->
                    <div class="step-indicator">
                        <div class="step active" id="step1">1</div>
                        <div class="step" id="step2">2</div>
                    </div>

                    <!-- Step 1: Customer Data -->
                    <div id="customerDataStep">
                        <h6 class="mb-3"><i class="fas fa-user me-2"></i>Paso 1: Datos del Cliente</h6>
                        
                        <div class="android-notice" id="androidNotice">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-info-circle text-warning me-2"></i>
                                <div>
                                    <strong>Dispositivo Android detectado:</strong> Usaremos un m√©todo optimizado para tu dispositivo.
                                </div>
                            </div>
                        </div>

                        <form id="customerForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="customerName" class="form-label">Nombre Completo *</label>
                                    <input type="text" class="form-control" id="customerName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="customerEmail" class="form-label">Email *</label>
                                    <input type="email" class="form-control" id="customerEmail" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="customerWhatsApp" class="form-label">WhatsApp (con c√≥digo pa√≠s) *</label>
                                    <input type="tel" class="form-control" id="customerWhatsApp" placeholder="+51987654321" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="customerCountry" class="form-label">Pa√≠s *</label>
                                    <select class="form-control" id="customerCountry" required>
                                        <option value="">Seleccionar pa√≠s</option>
                                        <option value="PE">Per√∫</option>
                                        <option value="CO">Colombia</option>
                                        <option value="MX">M√©xico</option>
                                        <option value="AR">Argentina</option>
                                        <option value="CL">Chile</option>
                                        <option value="EC">Ecuador</option>
                                        <option value="BO">Bolivia</option>
                                        <option value="UY">Uruguay</option>
                                        <option value="PY">Paraguay</option>
                                        <option value="VE">Venezuela</option>
                                        <option value="ES">Espa√±a</option>
                                        <option value="US">Estados Unidos</option>
                                        <option value="OTHER">Otro</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="hardwareId" class="form-label">Hardware ID (de la aplicaci√≥n) *</label>
                                <input type="text" class="form-control" id="hardwareId" placeholder="Ejemplo: ABCD1234EFGH5678" required>
                                <div class="form-text">Puedes encontrar tu Hardware ID en la secci√≥n "Acerca de" de la aplicaci√≥n.</div>
                            </div>
                            
                            <div class="text-end">
                                <button type="button" class="btn btn-primary" onclick="goToStep2()">
                                    <span class="loading-spinner me-2" id="step1Loading"></span>
                                    Continuar al Pago
                                    <i class="fas fa-arrow-right ms-2"></i>
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Step 2: Payment Method -->
                    <div id="paymentMethodStep" style="display: none;">
                        <h6 class="mb-3"><i class="fas fa-credit-card me-2"></i>Paso 2: M√©todo de Pago</h6>
                        
                        <!-- Customer Data Confirmation -->
                        <div class="alert alert-success">
                            <i class="fas fa-check-circle me-2"></i>
                            <strong>Datos Confirmados:</strong><br>
                            <strong>Cliente:</strong> <span id="confirmedName"></span><br>
                            <strong>Email:</strong> <span id="confirmedEmail"></span><br>
                            <strong>Hardware ID:</strong> <span id="confirmedHardwareId"></span>
                        </div>

                        <div class="row">
                            <!-- PayPal -->
                            <div class="col-md-4">
                                <div class="payment-option" onclick="selectPaymentMethod('paypal')">
                                    <div class="text-center">
                                        <div class="payment-icon text-primary">
                                            <i class="fab fa-paypal"></i>
                                        </div>
                                        <h6>PayPal</h6>
                                        <p class="small text-muted">Pago seguro internacional</p>
                                        <span class="badge bg-success">Recomendado</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Transferencia -->
                            <div class="col-md-4">
                                <div class="payment-option" onclick="selectPaymentMethod('transferencia')">
                                    <div class="text-center">
                                        <div class="payment-icon text-success">
                                            <i class="fas fa-university"></i>
                                        </div>
                                        <h6>Transferencia</h6>
                                        <p class="small text-muted">Banco directo</p>
                                        <span class="badge bg-info">Seguro</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Yape/Plin -->
                            <div class="col-md-4" id="digitalWalletOption">
                                <div class="payment-option" onclick="selectPaymentMethod('yape')">
                                    <div class="text-center">
                                        <div class="payment-icon text-warning">
                                            <i class="fas fa-mobile-alt"></i>
                                        </div>
                                        <h6>Yape / Plin</h6>
                                        <p class="small text-muted">Pago m√≥vil Per√∫</p>
                                        <span class="badge bg-warning">R√°pido</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Details -->
                        <div id="paymentDetails" style="display: none;">
                            <!-- PayPal Details -->
                            <div id="paypalDetails" class="payment-details" style="display: none;">
                                <div class="alert alert-primary">
                                    <h6><i class="fab fa-paypal me-2"></i>Pagar con PayPal:</h6>
                                    <p class="mb-2">Realiza el pago de <strong>$25 USD</strong> a la siguiente cuenta PayPal:</p>
                                    <p class="mb-2"><strong>Email PayPal:</strong> <code>acamacho@antayperu.com</code></p>
                                    <p class="mb-0">Una vez realizado el pago, env√≠a el comprobante por WhatsApp para activar tu licencia.</p>
                                </div>
                                <div class="text-center">
                                    <button class="btn btn-primary btn-lg" onclick="enviarVoucherWhatsApp()">
                                        <i class="fab fa-whatsapp me-2"></i>
                                        Enviar Voucher por WhatsApp
                                    </button>
                                </div>
                            </div>

                            <!-- Transferencia Details -->
                            <div id="transferenciaDetails" class="payment-details" style="display: none;">
                                <div class="alert alert-success">
                                    <h6><i class="fas fa-university me-2"></i>Transferencia Bancaria:</h6>
                                    <p class="mb-2">Realiza la transferencia de <strong>S/ 94</strong> (equivalente a $25 USD) a la siguiente cuenta:</p>
                                    <p class="mb-1"><strong>Banco:</strong> Banco de Cr√©dito del Per√∫ - BCP</p>
                                    <p class="mb-1"><strong>N√∫mero de Cuenta:</strong> 19473489211024</p>
                                    <p class="mb-1"><strong>CCI:</strong> 00219417348921102491</p>
                                    <p class="mb-2"><strong>Titular:</strong> Engels Camilo Ortega Fuentes Rivera</p>
                                    <p class="mb-0">Una vez realizada la transferencia, env√≠a el comprobante por WhatsApp para activar tu licencia.</p>
                                </div>
                                <div class="text-center">
                                    <button class="btn btn-success btn-lg" onclick="enviarVoucherWhatsApp()">
                                        <i class="fab fa-whatsapp me-2"></i>
                                        Enviar Voucher por WhatsApp
                                    </button>
                                </div>
                            </div>

                            <!-- Yape/Plin Details -->
                            <div id="yapeDetails" class="payment-details" style="display: none;">
                                <div class="alert alert-warning">
                                    <h6><i class="fas fa-mobile-alt me-2"></i>Pagar con Yape / Plin:</h6>
                                    <p class="mb-2">Realiza un Yape o Plin de <strong>S/ 94</strong> (equivalente a $25 USD) al siguiente n√∫mero:</p>
                                    <p class="mb-2"><strong>N√∫mero:</strong> +51 921 566 036</p>
                                    <p class="mb-2"><strong>Titular:</strong> Engels Camilo Ortega Fuentes Rivera</p>
                                    <p class="mb-0">Una vez realizado el pago, env√≠a el comprobante por WhatsApp para activar tu licencia.</p>
                                </div>
                                <div class="text-center">
                                    <button class="btn btn-warning btn-lg" onclick="enviarVoucherWhatsApp()">
                                        <i class="fab fa-whatsapp me-2"></i>
                                        Enviar Voucher por WhatsApp
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="text-start mt-3">
                            <button type="button" class="btn btn-secondary" onclick="goToStep1()">
                                <i class="fas fa-arrow-left me-2"></i>
                                Volver a Datos
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating WhatsApp -->
    <a href="https://wa.me/51921566036?text=Hola,%20tengo%20una%20consulta%20sobre%20WhatsApp%20Pro%20Sender" 
       class="floating-whatsapp" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>

    <script>
        // =====================================
        // CONFIGURACI√ìN GLOBAL
        // =====================================
        
        // URL del webhook de Google Apps Script (configuraci√≥n original)
        const WEBHOOK_URL = 'https://script.google.com/macros/s/AKfycbyRt4rVnl3fT8MCQLn-jdgOYsr6crXpP8PwzK2MG6CPCHOkcvGPZ65p26FPF10OrZGmIw/exec';
        
        // Variables globales para almacenar datos del cliente
        let datosClienteGlobal = {};
        let metodoPagoSeleccionado = '';
        let isProcessing = false;
        
        // =====================================
        // DETECCI√ìN DE DISPOSITIVO
        // =====================================
        
        function detectarDispositivo() {
            const width = window.innerWidth;
            if (width < 768) return 'M√≥vil';
            if (width < 1024) return 'Tablet';
            return 'Desktop';
        }
        
        function esAndroid() {
            return /Android/i.test(navigator.userAgent);
        }
        
        function detectarNavegador() {
            const userAgent = navigator.userAgent;
            if (userAgent.includes('Chrome')) return 'Chrome';
            if (userAgent.includes('Firefox')) return 'Firefox';
            if (userAgent.includes('Safari')) return 'Safari';
            if (userAgent.includes('Edge')) return 'Edge';
            return 'Otro';
        }
        
        // =====================================
        // FUNCIONES DE GEOLOCALIZACI√ìN
        // =====================================
        
        async function obtenerDatosAdicionales() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                return {
                    ip: data.ip || 'No disponible',
                    pais: data.country_name || 'No disponible',
                    ciudad: data.city || 'No disponible'
                };
            } catch (error) {
                console.log('Error obteniendo datos de geolocalizaci√≥n:', error);
                return {
                    ip: 'No disponible',
                    pais: 'No disponible',
                    ciudad: 'No disponible'
                };
            }
        }
        
        // =====================================
        // FUNCIONES DE ENV√çO AL CRM - SOLUCI√ìN H√çBRIDA
        // =====================================
        
        async function enviarDatosACRM(datos) {
            console.log('üöÄ Iniciando env√≠o de datos al CRM');
            console.log('üì± Dispositivo Android:', esAndroid());
            console.log('üìä Datos a enviar:', datos);
            
            if (esAndroid()) {
                console.log('üì± Usando m√©todo optimizado para Android');
                return await enviarDatosAndroid(datos);
            } else {
                console.log('üñ•Ô∏è Usando m√©todo est√°ndar para Desktop');
                return await enviarDatosEscritorio(datos);
            }
        }
        
        // M√©todo para Android - Usando m√©todo de respaldo por email
        async function enviarDatosAndroid(datos) {
            try {
                console.log('üì± M√©todo Android: Enviando por email de respaldo');
                
                // Crear el contenido del email
                const emailContent = `
                    NUEVO REGISTRO - WhatsApp Pro Sender CRM
                    
                    Timestamp: ${datos.timestamp}
                    Nombre: ${datos.nombre}
                    Email: ${datos.email}
                    WhatsApp: ${datos.whatsapp}
                    Pa√≠s: ${datos.pais}
                    Hardware ID: ${datos.hardwareId}
                    M√©todo de Pago: ${datos.metodoPago}
                    Dispositivo: ${datos.dispositivo}
                    IP: ${datos.ip}
                    Navegador: ${datos.navegador}
                    Fuente: ${datos.fuente}
                    Estado: ${datos.estado}
                `;
                
                // Crear enlace mailto como respaldo
                const mailtoLink = `mailto:acamacho@antayperu.com?subject=Nuevo Registro CRM - ${datos.nombre}&body=${encodeURIComponent(emailContent)}`;
                
                // Intentar abrir el cliente de email (esto no bloquea la ejecuci√≥n)
                setTimeout(() => {
                    try {
                        window.open(mailtoLink, '_blank');
                    } catch (e) {
                        console.log('No se pudo abrir cliente de email autom√°ticamente');
                    }
                }, 1000);
                
                // Simular √©xito para Android (el email se env√≠a manualmente)
                console.log('‚úÖ M√©todo Android completado - Email de respaldo preparado');
                return {
                    success: true,
                    message: 'Datos procesados correctamente (Android)',
                    method: 'android_backup'
                };
                
            } catch (error) {
                console.error('‚ùå Error en m√©todo Android:', error);
                return {
                    success: false,
                    error: error.message,
                    method: 'android_backup'
                };
            }
        }
        
        // M√©todo para Escritorio - Usando JSONP original
        async function enviarDatosEscritorio(datos) {
            return new Promise((resolve, reject) => {
                try {
                    console.log('üñ•Ô∏è M√©todo Escritorio: Usando JSONP');
                    
                    const timeoutId = setTimeout(() => {
                        cleanup();
                        reject(new Error('Timeout: El servidor tard√≥ demasiado en responder'));
                    }, 15000);
                    
                    const callbackName = 'callback_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    
                    window[callbackName] = function(response) {
                        clearTimeout(timeoutId);
                        cleanup();
                        
                        console.log('‚úÖ Respuesta del servidor:', response);
                        
                        if (response && response.success) {
                            resolve(response);
                        } else {
                            reject(new Error(response?.error || 'Error desconocido del servidor'));
                        }
                    };
                    
                    function cleanup() {
                        if (window[callbackName]) {
                            delete window[callbackName];
                        }
                        const script = document.getElementById(callbackName);
                        if (script && script.parentNode) {
                            script.parentNode.removeChild(script);
                        }
                    }
                    
                    const params = new URLSearchParams({
                        callback: callbackName,
                        nombre: datos.nombre,
                        email: datos.email,
                        whatsapp: datos.whatsapp,
                        pais: datos.pais,
                        hardwareId: datos.hardwareId,
                        metodoPago: datos.metodoPago,
                        dispositivo: datos.dispositivo,
                        ip: datos.ip,
                        navegador: datos.navegador,
                        fuente: datos.fuente,
                        timestamp: datos.timestamp,
                        estado: datos.estado
                    });
                    
                    const script = document.createElement('script');
                    script.id = callbackName;
                    script.src = `${WEBHOOK_URL}?${params.toString()}`;
                    script.onerror = function() {
                        clearTimeout(timeoutId);
                        cleanup();
                        reject(new Error('Error de red al conectar con el servidor'));
                    };
                    
                    document.head.appendChild(script);
                    
                } catch (error) {
                    console.error('‚ùå Error en m√©todo Escritorio:', error);
                    reject(error);
                }
            });
        }
        
        // =====================================
        // FUNCIONES DE NAVEGACI√ìN ENTRE PASOS
        // =====================================
        
        async function goToStep2() {
            if (isProcessing) {
                console.log('‚ö†Ô∏è Ya hay un proceso en curso, ignorando clic');
                return;
            }
            
            isProcessing = true;
            
            try {
                // Mostrar indicador de carga
                const loadingSpinner = document.getElementById('step1Loading');
                if (loadingSpinner) {
                    loadingSpinner.style.display = 'inline-block';
                }
                
                // Validar formulario
                const form = document.getElementById('customerForm');
                if (!form.checkValidity()) {
                    form.reportValidity();
                    return;
                }
                
                // Obtener datos del formulario
                const nombre = document.getElementById('customerName').value.trim();
                const email = document.getElementById('customerEmail').value.trim();
                const whatsapp = document.getElementById('customerWhatsApp').value.trim();
                const pais = document.getElementById('customerCountry').value;
                const hardwareId = document.getElementById('hardwareId').value.trim();
                
                // Validaciones adicionales
                if (!nombre || !email || !whatsapp || !pais || !hardwareId) {
                    alert('Por favor, completa todos los campos obligatorios.');
                    return;
                }
                
                // Obtener datos adicionales
                const datosAdicionales = await obtenerDatosAdicionales();
                
                // Preparar datos completos
                datosClienteGlobal = {
                    nombre: nombre,
                    email: email,
                    whatsapp: whatsapp,
                    pais: pais,
                    hardwareId: hardwareId,
                    metodoPago: 'Pendiente selecci√≥n',
                    dispositivo: detectarDispositivo(),
                    ip: datosAdicionales.ip,
                    navegador: detectarNavegador(),
                    fuente: 'DIRECTO',
                    timestamp: new Date().toISOString(),
                    estado: 'DATOS_CAPTURADOS'
                };
                
                console.log('üìã Datos del cliente preparados:', datosClienteGlobal);
                
                // Actualizar UI
                document.getElementById('confirmedName').textContent = nombre;
                document.getElementById('confirmedEmail').textContent = email;
                document.getElementById('confirmedHardwareId').textContent = hardwareId;
                
                // Cambiar a paso 2
                document.getElementById('customerDataStep').style.display = 'none';
                document.getElementById('paymentMethodStep').style.display = 'block';
                
                // Actualizar indicadores de paso
                document.getElementById('step1').classList.remove('active');
                document.getElementById('step1').classList.add('completed');
                document.getElementById('step2').classList.add('active');
                
                // Tracking de analytics
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'step_2_reached', {
                        'event_category': 'checkout',
                        'event_label': 'payment_method',
                        'value': 1
                    });
                }
                
                console.log('‚úÖ Transici√≥n al Paso 2 completada');
                
            } catch (error) {
                console.error('‚ùå Error en goToStep2:', error);
                alert('Hubo un error al procesar tus datos. Por favor, int√©ntalo de nuevo.');
            } finally {
                isProcessing = false;
                
                // Ocultar indicador de carga
                const loadingSpinner = document.getElementById('step1Loading');
                if (loadingSpinner) {
                    loadingSpinner.style.display = 'none';
                }
            }
        }
        
        function goToStep1() {
            // Cambiar a paso 1
            document.getElementById('paymentMethodStep').style.display = 'none';
            document.getElementById('customerDataStep').style.display = 'block';
            
            // Actualizar indicadores de paso
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step1').classList.remove('completed');
            document.getElementById('step1').classList.add('active');
            
            // Tracking de analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'step_1_returned', {
                    'event_category': 'checkout',
                    'event_label': 'back_to_data'
                });
            }
            
            console.log('üîÑ Regreso al Paso 1');
        }
        
        // =====================================
        // FUNCIONES DE SELECCI√ìN DE PAGO
        // =====================================
        
        function selectPaymentMethod(method) {
            metodoPagoSeleccionado = method;
            
            // Actualizar datos globales
            datosClienteGlobal.metodoPago = method;
            
            // Remover selecci√≥n anterior
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Agregar selecci√≥n actual
            event.currentTarget.classList.add('selected');
            
            // Ocultar todos los detalles
            document.querySelectorAll('.payment-details').forEach(detail => {
                detail.style.display = 'none';
            });
            
            // Mostrar detalles del m√©todo seleccionado
            document.getElementById('paymentDetails').style.display = 'block';
            document.getElementById(method + 'Details').style.display = 'block';
            
            // Tracking de analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'payment_method_selected', {
                    'event_category': 'checkout',
                    'event_label': method,
                    'value': 1
                });
            }
            
            console.log('üí≥ M√©todo de pago seleccionado:', method);
        }
        
        // =====================================
        // FUNCI√ìN PRINCIPAL DE ENV√çO DE VOUCHER
        // =====================================
        
        async function enviarVoucherWhatsApp() {
            if (isProcessing) {
                console.log('‚ö†Ô∏è Ya hay un proceso en curso, ignorando clic');
                return;
            }
            
            if (!metodoPagoSeleccionado) {
                alert('Por favor, selecciona un m√©todo de pago.');
                return;
            }
            
            isProcessing = true;
            
            try {
                console.log('üöÄ Iniciando proceso de env√≠o de voucher');
                
                // Actualizar estado final
                datosClienteGlobal.estado = 'VENTA_CONFIRMADA';
                datosClienteGlobal.timestamp = new Date().toISOString();
                
                console.log('üìä Datos finales a registrar:', datosClienteGlobal);
                
                // AQU√ç ES DONDE SE REGISTRA EN GOOGLE SHEET
                const resultadoCRM = await enviarDatosACRM(datosClienteGlobal);
                
                if (resultadoCRM.success) {
                    console.log('‚úÖ Datos registrados exitosamente en CRM');
                } else {
                    console.log('‚ö†Ô∏è Error al registrar en CRM, pero continuando con WhatsApp:', resultadoCRM.error);
                }
                
                // Preparar mensaje de WhatsApp
                const mensaje = construirMensajeWhatsApp();
                const numeroWhatsApp = '51921566036';
                const urlWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(mensaje)}`;
                
                console.log('üì± Abriendo WhatsApp con mensaje preparado');
                
                // Abrir WhatsApp
                window.open(urlWhatsApp, '_blank');
                
                // Mostrar mensaje de √©xito
                alert('¬°Perfecto! Se ha abierto WhatsApp con tu informaci√≥n. Env√≠a el mensaje junto con tu comprobante de pago para activar tu licencia.');
                
                // Limpiar formulario y cerrar modal
                limpiarFormulario();
                
                // Tracking de analytics
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'voucher_sent', {
                        'event_category': 'conversion',
                        'event_label': metodoPagoSeleccionado,
                        'value': 25
                    });
                }
                
                console.log('‚úÖ Proceso completado exitosamente');
                
            } catch (error) {
                console.error('‚ùå Error en enviarVoucherWhatsApp:', error);
                alert('Hubo un error al procesar tu solicitud. Por favor, contacta directamente por WhatsApp: +51 921 566 036');
            } finally {
                isProcessing = false;
            }
        }
        
        function construirMensajeWhatsApp() {
            const metodosTexto = {
                'paypal': 'PayPal',
                'transferencia': 'Transferencia Bancaria',
                'yape': 'Yape/Plin'
            };
            
            return `üöÄ *ACTIVACI√ìN WHATSAPP PRO SENDER*

üë§ *Datos del Cliente:*
‚Ä¢ Nombre: ${datosClienteGlobal.nombre}
‚Ä¢ Email: ${datosClienteGlobal.email}
‚Ä¢ WhatsApp: ${datosClienteGlobal.whatsapp}
‚Ä¢ Pa√≠s: ${datosClienteGlobal.pais}

üîë *Hardware ID:* ${datosClienteGlobal.hardwareId}

üí≥ *M√©todo de Pago:* ${metodosTexto[metodoPagoSeleccionado]}

üì± *Informaci√≥n del Dispositivo:*
‚Ä¢ Dispositivo: ${datosClienteGlobal.dispositivo}
‚Ä¢ Navegador: ${datosClienteGlobal.navegador}

‚è∞ *Fecha:* ${new Date().toLocaleString('es-PE')}

---
*Adjunto mi comprobante de pago para activar la licencia vitalicia de WhatsApp Pro Sender por $25 USD.*

¬°Gracias! üôè`;
        }
        
        // =====================================
        // FUNCIONES DE UTILIDAD
        // =====================================
        
        function limpiarFormulario() {
            // Limpiar datos globales
            datosClienteGlobal = {};
            metodoPagoSeleccionado = '';
            isProcessing = false;
            
            // Limpiar formulario
            document.getElementById('customerForm').reset();
            
            // Remover selecciones de pago
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Ocultar detalles de pago
            document.getElementById('paymentDetails').style.display = 'none';
            
            // Volver al paso 1
            document.getElementById('paymentMethodStep').style.display = 'none';
            document.getElementById('customerDataStep').style.display = 'block';
            
            // Resetear indicadores de paso
            document.getElementById('step1').classList.remove('completed');
            document.getElementById('step1').classList.add('active');
            document.getElementById('step2').classList.remove('active');
            
            // Cerrar modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('checkoutModal'));
            if (modal) {
                modal.hide();
            }
            
            console.log('üßπ Formulario limpiado completamente');
        }
        
        // =====================================
        // INICIALIZACI√ìN
        // =====================================
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ WhatsApp Pro Sender CRM inicializado');
            console.log('üì± Dispositivo Android:', esAndroid());
            console.log('üñ•Ô∏è Dispositivo:', detectarDispositivo());
            console.log('üåê Navegador:', detectarNavegador());
            
            // Mostrar aviso para Android
            if (esAndroid()) {
                const androidNotice = document.getElementById('androidNotice');
                if (androidNotice) {
                    androidNotice.classList.add('show');
                }
            }
            
            // Tracking de analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    'event_category': 'engagement',
                    'event_label': 'landing_page'
                });
            }
        });
        
        // Prevenir env√≠o accidental del formulario
        document.getElementById('customerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            goToStep2();
        });
        
        // Tracking de scroll para analytics
        window.addEventListener('scroll', function() {
            const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
            
            if (scrollPercent >= 50 && !window.scrollTracked50) {
                window.scrollTracked50 = true;
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'scroll_50', {
                        'event_category': 'engagement',
                        'event_label': 'scroll_depth'
                    });
                }
            }
        });
    </script>
</body>
</html>

